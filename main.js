(()=>{"use strict";function t(){const t=document.querySelector(".modal");t.style.display="none",document.querySelector(".title-input").value="",document.querySelector(".due-date-picker").value="",t.close()}function e(t,e){return{title:t,dueDate:e}}function n(){document.querySelectorAll(".task-tick").forEach((t=>{t.addEventListener("click",(e=>{var n;t.classList.add("active"),n=e.target.dataset.key,localStorage.removeItem(n)}))}))}function d(){const t=document.querySelector(".edit-modal");t.style.display="none",t.close()}let a="";function c(){document.querySelectorAll(".task-edit").forEach((t=>{t.addEventListener("click",(t=>{!function(t){(function(){const t=document.querySelector(".edit-modal");t.style.display="flex",t.showModal()})(),a=t;const e=document.querySelector(".title-input-edit"),n=document.querySelector(".due-date-picker-edit"),d=JSON.parse(localStorage.getItem(a));e.value=d.title,n.value=d.dueDate,document.querySelector(".update-modal").addEventListener("click",o)}(t.target.dataset.key)}))}))}function o(){const t=document.querySelector(".title-input-edit"),n=document.querySelector(".due-date-picker-edit"),d=e(t.value,n.value);localStorage.setItem(a,JSON.stringify(d)),function(){document.querySelector(".update-modal").removeEventListener("click",o);const t=document.querySelector(".edit-modal");t.style.display="none",t.close()}(),location.reload()}function s(){const d=document.createElement("div");return d.classList.add("task-container"),document.querySelector(".submit-modal").addEventListener("click",(()=>{d.appendChild(function(){const t=function(){const t=document.querySelector(".title-input").value,n=document.querySelector(".due-date-picker").value;if(""!==t&&""!==n){const d=e(t,n),a=function(){let t="",e=0;for(;e<10;)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random())),e+=1;return t}();return function(t,e){localStorage.setItem(t,JSON.stringify(e))}(a,d),a}}(),n=JSON.parse(localStorage.getItem(t));if(void 0===n.title&&void 0===n.dueDate)return;const d=document.createElement("div");d.classList.add("task-card");const a=document.createElement("div");a.classList.add("content-container");const c=document.createElement("span");c.classList.add("task-tick"),c.setAttribute("data-key",t);const o=document.createElement("span");o.classList.add("task-edit"),o.setAttribute("data-key",t);const s=document.createElement("span");s.classList.add("task-title"),s.textContent=n.title;const l=document.createElement("span");return l.classList.add("task-due-date"),l.textContent=`Due: ${n.dueDate}`,a.appendChild(s),a.appendChild(l),d.appendChild(c),d.appendChild(a),d.appendChild(o),d}()),n(),c(),t()})),d}function l(t,e){const n=document.createElement("div");n.classList.add("task-card");const d=document.createElement("div");d.classList.add("content-container");const a=document.createElement("span");a.classList.add("task-tick"),a.setAttribute("data-key",e);const c=document.createElement("span");c.classList.add("task-edit"),c.setAttribute("data-key",e);const o=document.createElement("span");o.classList.add("task-title"),o.textContent=t.title;const s=document.createElement("span");return s.classList.add("task-due-date"),s.textContent=`Due: ${t.dueDate}`,d.appendChild(o),d.appendChild(s),n.appendChild(a),n.appendChild(d),n.appendChild(c),n}!function(){const e=document.getElementById("content");e.appendChild(function(){const t=document.createElement("nav");t.classList.add("navbar");const e=document.createElement("div");e.textContent="To Do",e.classList.add("brand-title");const n=document.createElement("span");return n.classList.add("refresh-btn"),n.addEventListener("click",(()=>{location.reload()})),t.appendChild(e),t.appendChild(n),t}()),e.appendChild(function(){const t=document.createElement("div");t.classList.add("add-tasks-container");const e=document.createElement("span");return e.classList.add("add-tasks"),t.appendChild(e),t}()),e.appendChild(function(){const e=document.createElement("dialog");e.classList.add("modal");const n=document.createElement("span");n.textContent="Title",n.classList.add("title-txt");const d=document.createElement("input");d.type="text",d.classList.add("title-input");const a=document.createElement("span");a.textContent="Due Date",a.classList.add("due-date");const c=document.createElement("input");c.type="date",c.min=`${(new Date).toJSON().slice(0,10)}`,c.classList.add("due-date-picker");const o=document.createElement("button");o.textContent="Close",o.classList.add("close-modal"),o.addEventListener("click",t);const s=document.createElement("button");return s.textContent="Add",s.classList.add("submit-modal"),e.appendChild(n),e.appendChild(d),e.appendChild(a),e.appendChild(c),e.appendChild(o),e.appendChild(s),e}()),e.appendChild(function(){const t=document.createElement("dialog");t.classList.add("edit-modal");const e=document.createElement("span");e.textContent="Title",e.classList.add("title-txt");const n=document.createElement("input");n.type="text",n.classList.add("title-input-edit");const a=document.createElement("span");a.textContent="Due Date",a.classList.add("due-date");const c=document.createElement("input");c.type="date",c.min=`${(new Date).toJSON().slice(0,10)}`,c.classList.add("due-date-picker-edit");const o=document.createElement("button");o.textContent="Close",o.classList.add("close-modal"),o.addEventListener("click",d);const s=document.createElement("button");return s.textContent="Update",s.classList.add("update-modal"),t.appendChild(e),t.appendChild(n),t.appendChild(a),t.appendChild(c),t.appendChild(o),t.appendChild(s),t}()),e.appendChild(s()),function(){const t=document.querySelector(".task-container");for(let e=0;e<localStorage.length;e++){const n=localStorage.key(e),d=JSON.parse(localStorage.getItem(n));t.appendChild(l(d,n))}}(),n(),c()}(),document.querySelector(".add-tasks").addEventListener("click",(()=>{!function(){const t=document.querySelector(".modal");t.style.display="flex",t.showModal()}()}))})();